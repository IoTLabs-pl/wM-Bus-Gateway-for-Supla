const char* frontend_script = "<script>function attach_handlers(){document.querySelectorAll('.meter_field').forEach(e=>{e.oninput=update_meters})}function add_meter(){let e=document.querySelector('.meter.box:last-of-type'),t=e.cloneNode(!0);t.querySelectorAll('.meter_field').forEach(e=>{e.classList.contains('extra')?e.closest('.form-field').remove():e.value=''}),t.querySelector('h3').onclick=()=>t.classList.toggle('collapsed'),e.after(t),update_meters()}function remove_meter(){event.target.closest('.meter.box').remove(),update_meters()}function update_meters(){document.querySelectorAll('.meter.box').forEach((e,t)=>{e.querySelector('h3').innerText='Meter '+t,(cfg=e.querySelector('input.meter_cfg')).name='meter_'+t,cfg.value=Array.from(e.querySelectorAll('.meter_field')).map(e=>e.value).join(',')}),attach_handlers()}window.addEventListener('load',update_meters);</script>";
